## 拷贝赋值与销毁

定义一个类的时候，我们可以显式地或者隐式地指定此类型的对象拷贝、移动、赋值和销毁时做什么。有五种特殊的函数执行这些操作：

+ 拷贝构造函数 (copy constructor)
+ 拷贝赋值运算符 (copy-assignment operator)
+ 移动构造函数 (move constructor)
+ 移动赋值运算符 (move-assignment operator)
+ 析构函数 (destructor)

拷贝和移动构造函数定义了当用同类型的另一个对象初始化本对象在做什么。
拷贝和移动操作定义了将同一个对象赋予同类型的另一个对象的时候在做什么。
析构函数定义了销毁对象的时候在做什么。

### 拷贝构造函数

```c++
class Foo {
public:
    Foo();
    Foo(const Foo&);
}
```

构造拷贝函数在几种情况下基本都是隐式使用的，因此不能为`explicit`

合成拷贝构造函数用来阻止我们拷贝到正在创建的对象。而一般情况。

我们实际上要求编译器使用普通的函数匹配来选择与我们提供参数最匹配的构造函数。当我们使用拷贝构造初始化时，我们要求编译器将右侧运算对象拷贝到正在创建的对象中，如果需要的话还要进行类型转换。

拷贝构造发生的时机

+ 使用 = 隐式构造`string str2 = "abc"`
+ 将一个对象作为实参传递给一个非引用类型的形参。
+ 从一个返回类型为非引用类型的函数返回一个对象。
+ 用花括号列表初始化一个数组中的元素或者一个集合类中的成员。

#### 参数和返回值

在函数调用过程中，具有非引用类型的参数需要要进行拷贝初始化。类似的，当一个函数具有非引用返回类型时，返回值会被用来初始化调用方法。
拷贝构造函数被用来初始化非引用类类型参数，这一特性解释了为什么构造拷贝函数自己的参数必须是引用类型。如果其参数不是引用类型，则调用